<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Upload with Progress Bar</title>
    <script src="./static/js/htmx.min.js"></script>
    <script src="./static/js/hyperscript.min.js"></script>
</head>
<body>
<h1>File Upload with Progress Bar</h1>

<h2>HTMX Version</h2>
<form id="htmx-form" hx-encoding="multipart/form-data" hx-post="/upload">
    <input type="file" name="file">
    <button>Upload</button>
    <progress id="htmx-progress" value="0" max="100"></progress>
</form>
<script>
    htmx.on('#htmx-form', 'htmx:xhr:progress', function(evt) {
        htmx.find('#htmx-progress').setAttribute('value', evt.detail.loaded / evt.detail.total * 100);
    });
</script>

<h2>Hyperscript Version</h2>
<form hx-encoding="multipart/form-data" hx-post="/upload"
      _="on htmx:xhr:progress(loaded, total) set #hyperscript-progress.value to (loaded / total) * 100">
    <input type="file" name="file">
    <button>Upload</button>
    <progress id="hyperscript-progress" value="0" max="100"></progress>
</form>
</body>
</html>
